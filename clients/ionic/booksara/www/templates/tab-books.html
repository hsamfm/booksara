<ion-view view-title="Books">
  <script id="book-edit-modal.html" type="text/ng-template">
  <ion-modal-view>
    <ion-header-bar>
      <h1 class="title">ویرایش کتاب</h1>
    </ion-header-bar>
    <ion-content>
      <form ng-submit="submitBookModal()">
          <div class="list">
              <label class="item item-input item-stacked-label">
                <span class="input-label">اسم کتاب</span>
                <input type="text"  ng-model="editbook.name" value="{{modal_edit_name}}">
              </label>
              <label class="item item-input item-stacked-label">
                <span class="input-label">توضیحات کتاب</span>
                <input type="text"  ng-model="editbook.description" value="{{modal_edit_description}}">
              </label>
              <label class="item item-input item-stacked-label">
                <span class="input-label">قیمت کتاب</span>
                <input type="decimal"  ng-model="editbook.price" value="{{modal_edit_price}}">
                <input type="hidden" ng-model="editbook.pk" value="{{modal_edit_pk}}">
              </label>
              <label class="item item-thumbnail-left item-stacked-label">
                <span class="input-label">عکس کتاب</span>
                <img alt="picture" value="{{modal_edit_picture}}" ng-model="editbook.picture">
              </label>
            </div>
            <button class="button button-positive">
              به روز رسانی
            </button>
      </form>
    </ion-content>
  </ion-modal-view>
</script>

<ion-content ng-controller="BooksCtrl">
  
  <form ng-submit="submit()" >
    <div class="list">
      <label class="item item-input item-stacked-label">
        <span class="input-label">اسم کتاب</span>
        <input type="text" placeholder="" ng-model="name">
      </label>
      <label class="item item-input item-stacked-label">
        <span class="input-label">توضیحات کتاب</span>
        <input type="text" placeholder="" ng-model="description">
      </label>
      <label class="item item-input item-stacked-label">
        <span class="input-label">قیمت کتاب</span>
        <input type="decimal" placeholder="" ng-model="price">
      </label>
      <label class="item item-input item-stacked-label fileContainer">
        <span class="input-label">عکس کتاب</span>
        <input type="file" dir="ltr" placeholder="" ng-model="picture" accept="image/*">
      </label>
    </div>
    <button class="button button-positive">
      ثبت
    </button>
  </form>
  <center>
  <h3>تاریخچه</h3>
  </center>
  <!-- <ion-list show-delete="shouldShowDelete"
            can-swipe="listCanSwipe">
    <ion-item ng-repeat="book in books" class="item-thumbnail-left">

          <h2>{{book.fields.name}}</h2>
          <p>{{book.fields.description}}</p>
          <img src="http://booksara.pythonanywhere.com/media/{{ book.fields.picture }}" alt="picture">
          <ion-option-button class="button-positive"
                             ng-click="edit(book)">
            تغییر
          </ion-option-button>
          <ion-option-button class="button-assertive"
                             ng-click="show(book)">
            حذف
          </ion-option-button>
      </ion-item>
    </ion-list> -->
<div class="list card" ng-repeat="book in books">

  <div class="item item-avatar">
    <img src="http://booksara.pythonanywhere.com/media/{{ book.fields.picture }}">
    <h2>{{book.fields.name}}</h2>
    <p>{{book.fields.price}}</p>
  </div>

  <div class="item item-body">
    <img class="full-image" src="http://booksara.pythonanywhere.com/media/{{ book.fields.picture }}">
    <p>
      {{book.fields.description}}
    </p>
    <p>
      <button class="button button-positive" ng-click="edit(book)">
        تغییر
      </button>
      <button class="button button-assertive" ng-click="show(book)">
        حذف
      </button>
      <!-- <ion-list>
        <ion-item class="item-remove-animate item-avatar item-icon-right" type="item-text-wrap" href="#/tab/books/{{book.pk}}">
            اطلاعات بیشتر
        </ion-item>
      </ion-list> -->
      <a href="#/tab/books/{{book.pk}}"><button class="button button-positive" type="item-text-wrap">
        اطلاعات بیشتر
      </button></a>
    </p>
  </div>

</div>
</ion-content>
</ion-view>
